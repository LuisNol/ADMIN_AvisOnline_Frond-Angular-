<<<<<<< HEAD
<!-- Dashboard AvisOnline -->
<div class="container-fluid">
  <!-- Sección de Bienvenida -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="card bg-primary bg-gradient">
        <div class="card-body p-9">
          <div class="row align-items-center">
            <div class="col-lg-6">
              <h1 class="text-white mb-3">¡Bienvenido a AvisOnline!</h1>
              <h3 class="text-white-75 mb-0">{{userName}}</h3>
              <p class="text-white-50 mt-2" *ngIf="!isAdmin">
                Plataforma de anuncios clasificados
              </p>
              <p class="text-white-50 mt-2" *ngIf="isAdmin">
                Panel de administración completo
              </p>
=======
<!--begin::Row-->
<div class="row g-5 g-xl-10 mb-5" *ngIf="hasLimitedAccess">
  <div class="col-12">
    <div class="alert alert-warning d-flex align-items-center p-5">
      <i class="ki-duotone ki-shield-tick fs-2hx text-warning me-4">
        <span class="path1"></span>
        <span class="path2"></span>
      </i>
      <div class="d-flex flex-column">
        <h4 class="mb-1 text-warning">Acceso Limitado</h4>
        <span>{{ limitedAccessMessage || 'Tienes permisos Limitados para crear tus anuncios, puedes crear solo tres.' }}</span>

        <div class="mt-3">
          <a routerLink="/products/list" class="btn btn-light-warning btn-sm me-2">Ver mis productos</a>
          <a routerLink="/products/register" class="btn btn-warning btn-sm">Crear nuevo producto</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!--begin::Row-->
<div class="row g-5 g-xl-10" *ngIf="hasFullAccess">
  <!--begin::Col-->
  <span class="spinner-border spinner-border-sm align-middle ms-2" *ngIf="isLoading$ | async"></span>
  <div class="col-md-7 col-lg-7 col-xl-7 col-xxl-7 mb-md-5 mb-xl-10">
    <div class="row">
      <div class="col-7 mb-md-5 mb-xl-10">
        
        <div class="card card-flush h-xl-100">
          <!--begin::Header-->
          <div class="card-header py-7">
            <!--begin::Statistics-->
            <div class="m-0">
              <!--begin::Heading-->
              <div class="d-flex align-items-center mb-2">
                <!--begin::Title-->
                <span class="fw-bold text-gray-800 me-2 lh-1 ls-n2" style="font-size: x-large;">{{ sales_for_year_for_country }} PEN</span>
                <!--end::Title-->
                <!--begin::Label-->
                <ng-container *ngIf="percentage_sale_for_country >= 0">
                  <span class="badge badge-light-success fs-base">
                  <i class="ki-duotone ki-arrow-up fs-5 text-success ms-n1">
                    <span class="path1"></span>
                    <span class="path2"></span>
                  </i>{{ percentage_sale_for_country }}%</span>
                </ng-container>

                <ng-container *ngIf="percentage_sale_for_country < 0">
                  <span class="badge badge-light-danger fs-base">
                  <i class="ki-duotone ki-arrow-down fs-5 text-danger ms-n1">
                    <span class="path1"></span>
                    <span class="path2"></span>
                  </i>{{ percentage_sale_for_country }}%</span>
                </ng-container>
                

                <!--end::Label-->
              </div>
              <!--end::Heading-->
              <!--begin::Description-->
              <span class="fs-6 fw-semibold text-gray-500">Ventas X Pais</span>
              <!--end::Description-->
>>>>>>> c172c0906610bd2b0782d2850e9c672d85f23cdc
            </div>
            <div class="col-lg-6 text-end">
              <i class="ki-duotone ki-home fs-4x text-white-50">
                <span class="path1"></span>
                <span class="path2"></span>
              </i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Contador de Anuncios para Usuarios Normales -->
  <div class="row mb-8" *ngIf="!isAdmin && hasManageOwnProducts">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body p-8">
          <div class="row align-items-center">
            <div class="col-lg-8">
              <h3 class="card-title mb-3">Tus Anuncios</h3>
              <div class="d-flex align-items-center">
                <span class="fs-2hx fw-bold text-gray-800 me-2">{{userAnnouncementsCount}}</span>
                <span class="fs-4 text-muted">/</span>
                <span class="fs-1 fw-semibold text-muted ms-2">{{maxAnnouncements}}</span>
              </div>
              <p class="text-muted mt-2" *ngIf="remainingAnnouncements > 0">
                Te quedan {{remainingAnnouncements}} anuncios disponibles
              </p>
              <p class="text-warning mt-2" *ngIf="remainingAnnouncements === 0">
                Has alcanzado el límite de anuncios. Elimina alguno para crear uno nuevo.
              </p>
            </div>
            <div class="col-lg-4 text-end">
              <div class="symbol symbol-100px">
                <div class="symbol-label bg-light-primary">
                  <i class="ki-duotone ki-notepad-bookmark fs-2x text-primary">
                    <span class="path1"></span>
                    <span class="path2"></span>
                    <span class="path3"></span>
                    <span class="path4"></span>
                    <span class="path5"></span>
                    <span class="path6"></span>
                  </i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Acciones Rápidas para Usuarios -->
  <div class="row mb-8" *ngIf="!isAdmin">
    <div class="col-lg-6">
      <div class="card bg-light-success hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-plus fs-3x text-success mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
          </i>
          <h3 class="card-title">Crear Anuncio</h3>
          <p class="text-muted">Publica un nuevo clasificado</p>
          <button 
            class="btn btn-success" 
            (click)="createAnnouncement()"
            [disabled]="userAnnouncementsCount >= maxAnnouncements">
            Crear Nuevo
          </button>
        </div>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="card bg-light-info hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-files fs-3x text-info mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
          </i>
          <h3 class="card-title">Mis Anuncios</h3>
          <p class="text-muted">Gestionar anuncios existentes</p>
          <button class="btn btn-info" (click)="listMyAnnouncements()">
            Ver Lista
          </button>
        </div>
      </div>
    </div>
  </div>

<<<<<<< HEAD
  <!-- Panel de Administración -->
  <div class="row" *ngIf="isAdmin">
    <div class="col-12 mb-5">
      <h2 class="text-gray-800">Panel de Administración</h2>
      <p class="text-muted">Gestiona todos los aspectos de la plataforma AvisOnline</p>
    </div>

    <!-- Fila 1 - Gestión de Contenido -->
    <div class="col-lg-4 mb-8">
      <div class="card bg-light-primary hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-category fs-3x text-primary mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
            <span class="path3"></span>
            <span class="path4"></span>
          </i>
          <h3 class="card-title">Categorías</h3>
          <p class="text-muted">Gestionar categorías de anuncios</p>
          <button class="btn btn-primary" (click)="manageCategories()">
            Gestionar
          </button>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-8">
      <div class="card bg-light-warning hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-picture fs-3x text-warning mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
          </i>
          <h3 class="card-title">Sliders</h3>
          <p class="text-muted">Configurar banner principal</p>
          <button class="btn btn-warning" (click)="manageSliders()">
            Gestionar
          </button>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-8">
      <div class="card bg-light-info hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-notepad-bookmark fs-3x text-info mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
            <span class="path3"></span>
            <span class="path4"></span>
            <span class="path5"></span>
            <span class="path6"></span>
          </i>
          <h3 class="card-title">Anuncios</h3>
          <p class="text-muted">Ver todos los anuncios</p>
          <button class="btn btn-info" (click)="listMyAnnouncements()">
            Ver Todos
          </button>
        </div>
      </div>
    </div>

    <!-- Fila 2 - Gestión de Usuarios -->
    <div class="col-lg-4 mb-8">
      <div class="card bg-light-success hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-users fs-3x text-success mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
            <span class="path3"></span>
            <span class="path4"></span>
            <span class="path5"></span>
          </i>
          <h3 class="card-title">Usuarios</h3>
          <p class="text-muted">Gestionar usuarios del sistema</p>
          <button class="btn btn-success" (click)="manageUsers()">
            Gestionar
          </button>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-8">
      <div class="card bg-light-danger hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-security-user fs-3x text-danger mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
          </i>
          <h3 class="card-title">Roles</h3>
          <p class="text-muted">Configurar roles de usuario</p>
          <button class="btn btn-danger" (click)="manageRoles()">
            Gestionar
          </button>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-8">
      <div class="card bg-light-dark hover-elevate-up">
        <div class="card-body p-8 text-center">
          <i class="ki-duotone ki-shield-check fs-3x text-dark mb-5">
            <span class="path1"></span>
            <span class="path2"></span>
          </i>
          <h3 class="card-title">Permisos</h3>
          <p class="text-muted">Configurar permisos del sistema</p>
          <button class="btn btn-dark" (click)="managePermissions()">
            Gestionar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
=======
  <!--begin::Col-->
  
</div>
<!--end::Row-->

<!-- begin::Row -->
<div class="row gy-5 gx-xl-8">
  
  
</div>
<!-- end::Row -->



>>>>>>> c172c0906610bd2b0782d2850e9c672d85f23cdc
